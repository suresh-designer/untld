{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/suresh/Documents/Git/untld/app/api/proxy-image/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function GET(request: Request) {\n    const { searchParams } = new URL(request.url);\n    const imageUrl = searchParams.get('url');\n\n    if (!imageUrl) {\n        return new Response('URL is required', { status: 400 });\n    }\n\n    try {\n        const response = await fetch(imageUrl, {\n            headers: {\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'\n            }\n        });\n\n        if (!response.ok) {\n            return new Response('Failed to fetch image', { status: response.status });\n        }\n\n        const contentType = response.headers.get('content-type') || 'image/jpeg';\n        const buffer = await response.arrayBuffer();\n\n        return new Response(buffer, {\n            headers: {\n                'Content-Type': contentType,\n                'Cache-Control': 'public, max-age=31536000, immutable',\n                'Access-Control-Allow-Origin': '*' // Allow our frontend to access this\n            }\n        });\n    } catch (error) {\n        console.error('Image proxy error:', error);\n        return new Response('Error proxying image', { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAEO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;IAC5C,MAAM,WAAW,aAAa,GAAG,CAAC;IAElC,IAAI,CAAC,UAAU;QACX,OAAO,IAAI,SAAS,mBAAmB;YAAE,QAAQ;QAAI;IACzD;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,UAAU;YACnC,SAAS;gBACL,cAAc;YAClB;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,OAAO,IAAI,SAAS,yBAAyB;gBAAE,QAAQ,SAAS,MAAM;YAAC;QAC3E;QAEA,MAAM,cAAc,SAAS,OAAO,CAAC,GAAG,CAAC,mBAAmB;QAC5D,MAAM,SAAS,MAAM,SAAS,WAAW;QAEzC,OAAO,IAAI,SAAS,QAAQ;YACxB,SAAS;gBACL,gBAAgB;gBAChB,iBAAiB;gBACjB,+BAA+B,IAAI,oCAAoC;YAC3E;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,IAAI,SAAS,wBAAwB;YAAE,QAAQ;QAAI;IAC9D;AACJ"}}]
}